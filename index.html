<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Pendências</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --primary:#333F4F;
  --secondary:#44546A;
  --light:#D9D9D9;
  --white:#FFFFFF;
}

body{font-family:Arial;margin:20px;background:var(--light)}

.topbar{
  display:flex;align-items:center;
  background:var(--primary);padding:10px 14px;
  border-radius:6px;color:white;margin-bottom:12px
}

.filters{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:14px;background:white;padding:14px;
  border-radius:8px
}

.filter label{
  font-weight:bold;font-size:13px;
  color:var(--primary);margin-bottom:4px
}

.multi-select{position:relative}
.select-box{
  border:1px solid var(--secondary);
  padding:6px;border-radius:4px;
  background:white;cursor:pointer;font-size:13px;
  transition:all .25s ease
}

.select-box:hover{background:#f4f4f4}

.options{
  display:none;position:absolute;
  background:white;border:1px solid var(--secondary);
  border-radius:6px;max-height:180px;
  overflow-y:auto;z-index:10;width:100%;
  margin-top:4px;box-shadow:0 6px 12px rgba(0,0,0,.12);
  animation:fade .25s ease
}

.multi-select.open .options{display:block}

@keyframes fade{
  from{opacity:0;transform:translateY(-5px)}
  to{opacity:1;transform:translateY(0)}
}

.options label{
  display:flex;align-items:center;
  padding:5px 8px;font-size:12px;cursor:pointer
}
.options label:hover{background:#f0f0f0}

input[type=text],select{
  padding:6px;border:1px solid var(--secondary);
  border-radius:4px
}

button{
  padding:8px 14px;margin-top:10px;
  background:var(--secondary);color:white;
  border:none;border-radius:4px;cursor:pointer
}
button:hover{background:var(--primary)}

.btn-clear{background:#999}
.btn-clear:hover{background:#777}

.icon{margin-right:6px;color:#666}
</style>
</head>

<body>

<div class="topbar">
  <span>Pendências - Consulta</span>
</div>

<div class="filters">

  <div class="filter">
    <label><i class="fa fa-search icon"></i>Busca</label>
    <input id="busca" type="text" placeholder="Digite PDV, Nome ou Task">
  </div>

  <div class="filter">
    <label><i class="fa fa-calendar icon"></i>Dia de Visita</label>
    <div class="multi-select" id="visita">
      <div class="select-box">Selecionar...</div>
      <div class="options">
        <label><input type="checkbox" value="Seg"> Seg</label>
        <label><input type="checkbox" value="Ter"> Ter</label>
        <label><input type="checkbox" value="Qua"> Qua</label>
        <label><input type="checkbox" value="Qui"> Qui</label>
        <label><input type="checkbox" value="Sex"> Sex</label>
        <label><input type="checkbox" value="Sáb"> Sáb</label>
      </div>
    </div>
  </div>

  <div class="filter">
    <label><i class="fa fa-layer-group icon"></i>Cluster Primário</label>
    <div class="multi-select" id="cluster_pri">
      <div class="select-box">Selecionar...</div>
      <div class="options">
        <label><input type="checkbox" value="Volume"> Volume</label>
        <label><input type="checkbox" value="Execução"> Execução</label>
        <label><input type="checkbox" value="Marketplace"> Marketplace</label>
      </div>
    </div>
  </div>

  <div class="filter">
    <label><i class="fa fa-tags icon"></i>Categoria</label>
    <div class="multi-select" id="categoria">
      <div class="select-box">Selecionar...</div>
      <div class="options">
        <label><input type="checkbox" value="BEER"> BEER</label>
        <label><input type="checkbox" value="MATCH"> MATCH</label>
      </div>
    </div>
  </div>

</div>

<button onclick="buscar()">Buscar</button>
<button class="btn-clear" onclick="limpar()">Limpar filtros</button>

<div id="mensagem"></div>

<script>
document.addEventListener("click", e=>{
  document.querySelectorAll(".multi-select").forEach(ms=>{
    if(!ms.contains(e.target)) ms.classList.remove("open");
  });
});

document.querySelectorAll(".select-box").forEach(box=>{
  box.addEventListener("click", e=>{
    e.stopPropagation();
    box.parentElement.classList.toggle("open");
  });
});

document.querySelectorAll(".options input").forEach(cb=>{
  cb.addEventListener("change", ()=>{
    const box=cb.closest(".multi-select");
    const count=box.querySelectorAll("input:checked").length;
    box.querySelector(".select-box").textContent =
      count ? `${count} selecionado(s)` : "Selecionar...";
  });
});

function getMulti(id){
  return [...document.querySelectorAll(`#${id} input:checked`)].map(i=>i.value);
}

function limpar(){
  document.querySelectorAll("input,select").forEach(e=>{
    if(e.type==="checkbox") e.checked=false;
    else e.value="";
  });
  document.querySelectorAll(".select-box").forEach(b=>b.textContent="Selecionar...");
  document.getElementById("mensagem").textContent="Filtros limpos.";
}

function buscar(){
  const termo=document.getElementById("busca").value;
  const visita=getMulti("visita");
  const pri=getMulti("cluster_pri");
  const cat=getMulti("categoria");

  document.getElementById("mensagem").textContent =
    `Busca: "${termo}" | Visita: ${visita} | Pri: ${pri} | Cat: ${cat}`;
}
</script>

</body>
</html>
